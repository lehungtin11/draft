CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `api`.`bangtinhcuoc_detail_view` AS with recursive `T` as (select `jwdb`.`app_fd_tc_bangtinhcuoc`.`id` AS `id`,`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_loaiMang` AS `c_loaiMang`,coalesce((`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_giaCuocSaus` * 1),0) AS `c_giaCuocSaus`,coalesce((`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_giaCuocMots` * 1),0) AS `c_giaCuocMots`,coalesce((`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_giaCuoc` * 1),0) AS `c_giaCuoc`,`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_kieutinh` AS `c_kieutinh`,`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_insite_outsite` AS `c_insite_outsite`,`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_range_dauso` AS `items`,`jwdb`.`app_fd_tc_bangtinhcuoc`.`c_dir` AS `c_dir` from `jwdb`.`app_fd_tc_bangtinhcuoc`), `N` as (select 1 AS `n` union select (`N`.`n` + 1) AS `n + 1` from (`N` join `T`) where (`N`.`n` <= (length(`T`.`items`) - length(replace(`T`.`items`,',',''))))) select distinct `T`.`id` AS `id`,`T`.`c_loaiMang` AS `c_loaiMang`,`T`.`c_giaCuocSaus` AS `c_giaCuocSaus`,`T`.`c_giaCuocMots` AS `c_giaCuocMots`,`T`.`c_giaCuoc` AS `c_giaCuoc`,`T`.`c_kieutinh` AS `c_kieutinh`,`T`.`c_insite_outsite` AS `c_insite_outsite`,`T`.`items` AS `items`,`T`.`c_dir` AS `c_dir`,substring_index(substring_index(`T`.`items`,',',`N`.`n`),',',-(1)) AS `tmpdauso` from (`N` join `T`)