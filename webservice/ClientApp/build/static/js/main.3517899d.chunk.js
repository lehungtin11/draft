(this.webpackJsonpaquadashboardv2=this.webpackJsonpaquadashboardv2||[]).push([[0],{116:function(t,e,a){t.exports=a.p+"static/media/logo-3cx.f4a8a125.PNG"},121:function(t,e,a){t.exports=a(241)},130:function(t,e,a){},134:function(t,e){},136:function(t,e){},169:function(t,e){},170:function(t,e){},236:function(t,e,a){},241:function(t,e,a){"use strict";a.r(e);a(122),a(123);var s=a(0),n=a.n(s),l=a(70),i=a.n(l),r=a(120),o=a(9),c=a(8),d=a(16),m=a(15),_=a(17),u=function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"dashboard_c"},this.props.children)}}]),a}(s.Component);u.displayName=u.name;var h=function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"Welcome!")}}]),a}(s.Component);h.displayName=h.name;var p=a(24),v=a.n(p),g=a(41),b=a(10),E=(a(74),a(75),a(69)),y=function(){function t(){var e=this;Object(o.a)(this,t),this.displayST=void 0,this.currentDisplayType=void 0,this.ChangeDisplayContent=this.ChangeDisplayContent.bind(this),this.ShowDisplay=this.ShowDisplay.bind(this),this.DisplayError=this.DisplayError.bind(this),this.DisplayWait=this.DisplayWait.bind(this),this.DisplaySuccess=this.DisplaySuccess.bind(this),this.DisplayInfo=this.DisplayInfo.bind(this),this.HideDisplayMessage=this.HideDisplayMessage.bind(this),this.HideDisplayMessageWithTimeout=this.HideDisplayMessageWithTimeout.bind(this),this.DestroyDisplayST=this.DestroyDisplayST.bind(this),this.displayContainerDiv=document.createElement("div"),this.displayContainerDiv.setAttribute("style","background-color: rgba(137,137,137,0.3);z-index:9999999;position: fixed;left: 0;top: 0;width: 100vw;height: 100vh;"),this.displayContainerDiv.id="displayContainerDiv",this.toastDiv=document.createElement("div"),this.toastDiv.className="toast",this.toastDiv.setAttribute("role","alert"),this.toastDiv.setAttribute("aria-live","assertive"),this.toastDiv.setAttribute("aria-atomic","true"),this.toastDiv.setAttribute("data-autohide","false"),this.toastDiv.innerHTML='<div class="toast-header">\n  <strong class="mr-auto">Error</strong>\n  <button type="button" class="ml-2 mb-1 close">\n    <span aria-hidden="true">\xd7</span>\n  </button>\n</div>\n<div class="toast-body text-danger">Some thing went wrong. Please try again!</div>',this.ChangeDisplayContent("wait","wait"),this.displayContainerDiv.onclick=function(t){if("success"!==e.currentDisplayType&&"info"!==e.currentDisplayType){var a=document.querySelector("#displayContainerDiv .close span");t.target!==a?t.stopPropagation():e.HideDisplayMessage()}else e.HideDisplayMessage()},this.displayContainerDiv.appendChild(this.toastDiv),document.body.appendChild(this.displayContainerDiv),this.displayContainerDiv.style.display="none",E(this.toastDiv).toast("show");var a=document.createElement("style");a.innerHTML="\n.toast .close{\nborder:0;\noutline: none;\ncolor: #4b4b4b;\n}\n.toast .close:focus{\nborder:0;\noutline: none;\n}\n.toast .close:focus{\nborder:0;\noutline: none;\n}\n.toast .close:hover{\nborder:0;\noutline: none;\n}\n",document.head.appendChild(a)}return Object(c.a)(t,[{key:"ChangeDisplayContent",value:function(t,e){var a=this.toastDiv.querySelector(".close");switch(t){case"error":this.toastDiv.setAttribute("style","position: relative; left: 50%;min-height: 90px; transform: translateX(-50%); top: 5px; z-index:9999999; background-color: #ffeded; border: 1px solid #ff6868; box-shadow: unset; min-width: 200px;"),this.toastDiv.querySelector(".toast-header strong").textContent="ERROR!",a||((a=document.createElement("button")).type="button",a.className="ml-2 mb-1 close",a.innerHTML="<span aria-hidden='true'>\xd7</span>",this.toastDiv.querySelector(".toast-header").appendChild(a)),this.toastDiv.querySelector(".toast-body").className="toast-body text-danger";break;case"wait":this.toastDiv.setAttribute("style","position: relative;min-height: 90px;left: 50%;transform: translateX(-50%);top: 5px;z-index:9999999;background-color: #f4fcff;border: 1px solid #00a9e1;box-shadow: unset;min-width: 200px;"),this.toastDiv.querySelector(".toast-header strong").textContent="PLEASE WAIT!",a&&a.remove(),this.toastDiv.querySelector(".toast-body").className="toast-body text-info";break;case"success":this.toastDiv.setAttribute("style","position: relative;min-height: 90px;left: 50%;transform: translateX(-50%);top: 5px;z-index:9999999;background-color: #f4fff9;border: 1px solid #04cc74;box-shadow: unset;min-width: 200px;"),this.toastDiv.querySelector(".toast-header strong").textContent="SUCCESS!",a||((a=document.createElement("button")).type="button",a.className="ml-2 mb-1 close",a.innerHTML="<span aria-hidden='true'>\xd7</span>",this.toastDiv.querySelector(".toast-header").appendChild(a)),this.toastDiv.querySelector(".toast-body").className="toast-body text-success";break;case"info":this.toastDiv.setAttribute("style","position: relative;min-height: 90px;left: 50%;transform: translateX(-50%);top: 5px;z-index:9999999;background-color: #f4fcff;border: 1px solid #00a9e1;box-shadow: unset;min-width: 200px;"),this.toastDiv.querySelector(".toast-header strong").textContent="INFORMATION!",a||((a=document.createElement("button")).type="button",a.className="ml-2 mb-1 close",a.innerHTML="<span aria-hidden='true'>\xd7</span>",this.toastDiv.querySelector(".toast-header").appendChild(a)),this.toastDiv.querySelector(".toast-body").className="toast-body text-info"}this.toastDiv.querySelector(".toast-body").textContent=e}},{key:"ShowDisplay",value:function(t,e){this.ChangeDisplayContent(t,e),this.displayContainerDiv.style.display="block"}},{key:"DisplayError",value:function(t,e){this.DestroyDisplayST(),this.currentDisplayType="error",this.ShowDisplay("error",t),e&&this.HideDisplayMessageWithTimeout(e)}},{key:"DisplayInfo",value:function(t,e){this.DestroyDisplayST(),this.currentDisplayType="info",this.ShowDisplay("info",t),e&&this.HideDisplayMessageWithTimeout(e)}},{key:"DisplayWait",value:function(t){this.DestroyDisplayST(),this.currentDisplayType="wait",this.ShowDisplay("wait",t)}},{key:"DisplaySuccess",value:function(t,e){this.DestroyDisplayST(),this.currentDisplayType="success",this.ShowDisplay("success",t),e&&this.HideDisplayMessageWithTimeout(e)}},{key:"HideDisplayMessage",value:function(){this.DestroyDisplayST(),this.currentDisplayType=void 0,document.querySelector("#displayContainerDiv").style.display="none"}},{key:"HideDisplayMessageWithTimeout",value:function(t){this.DestroyDisplayST(),this.displayST=setTimeout(this.HideDisplayMessage,t)}},{key:"DestroyDisplayST",value:function(){this.displayST&&clearTimeout(this.displayST),this.displayST=void 0}}]),t}(),N=(a(130),a(28)),f=a(21);function w(t,e){for(var a="",s="",n=0;n<16;n++)a+=D[q(D.length)],s+=D[q(D.length)];var l=N.enc.Utf8.parse(a),i=N.enc.Utf8.parse(s),r=window.btoa(JSON.stringify({user_name:t,password:x(e,l,i),k:a,i:s,d:x(f().format(),l,i)}));return r.slice(0,3)+D[q(D.length)]+r.slice(3)}var D=["q","w","e","r","t","y","u","i","o","p","d","f","a","s","g","h","j","k","l","z","x","c","v","Q","W","E","R","T","Y","U","I","O","P","D","F","A","S","G","H","J","K","L","Z","X","C","V","1","2","3","4","5","6","7","8","9","0"];function x(t,e,a){return N.AES.encrypt(N.enc.Utf8.parse(t),e,{keySize:16,iv:a,mode:N.mode.CBC,padding:N.pad.Pkcs7}).toString()}function q(t){return Math.floor(Math.random()*Math.floor(t))}var C=function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).toast=s.props.toast,s.login=s.login.bind(Object(b.a)(s)),s}return Object(c.a)(a,[{key:"login",value:function(t,e){var a=this;this.toast.DisplayWait("Logging you in ..."),t.trim()&&e.trim()?fetch("/api/user_login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:w(t,e)})}).then((function(t){if(!t.ok)throw new Error(t);return t.json()})).then((function(s){s?(a.toast.HideDisplayMessage(),a.props.set_login_true(t,e)):a.toast.DisplayError("Wrong user name or password",5e3)})).catch((function(t){console.log(t),a.toast.DisplayError("Cannot login. Please try again!")})):this.toast.DisplayError("Wrong user name or password",5e3)}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"min-height-100 d-flex align-items-center justify-content-center"},n.a.createElement("form",{className:"max-width-15",name:"login_form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"user_name"},"Username"),n.a.createElement("input",{type:"text",className:"form-control",id:"user_name",name:"user_name",autoComplete:"off"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",autoComplete:"off"})),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.login(document.login_form.user_name.value,document.login_form.password.value)}},"Login")))}}]),a}(s.Component),k=a(33),A=a.n(k);var S=[{name:"Change Status",value:-1,select_value:"-1"},{name:"S\u1eb5n s\xe0ng",value:"S\u1eb5n s\xe0ng",status_3cx:"AVAILABLE",select_value:"0"},{name:"Kh\xf4ng s\u1eb5n s\xe0ng",value:"Kh\xf4ng s\u1eb5n s\xe0ng",status_3cx:"AWAY",select_value:"1"},{name:"Logout",value:"Logout",status_3cx:"AWAY",select_value:"2"}],O=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(t){var a;return Object(o.a)(this,s),(a=e.call(this,t)).set_agent_status=function(){var t=Object(g.a)(v.a.mark((function t(e){var s,n,l,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("-1"===e.target.value){t.next=15;break}return s=S.find((function(t){return t.select_value===e.target.value})),t.prev=2,l=e.target.getAttribute("userID"),i='{\n                               "user": "'.concat(l,'",\n                               "extension": "').concat(null!==(n=e.target.getAttribute("ext"))&&void 0!==n?n:"",'",\n                               "status": "').concat(s.value,'",\n                               "status3CX": "').concat(s.status_3cx,'",\n                               "changedBy": ').concat(a.state.user_crm_login,',\n                               "isLogging": "1" }'),console.log(i),t.next=8,fetch("https://3cxcrm.thmilk.vn/jw/api/process/WebRTC_Status_update/startProcessByUser/"+l,{method:"POST",async:"true",headers:{api_id:"API-cc4c0134-7913-475a-94b6-a6097452bcd5",api_key:"0d480faa8fe2478098de587cd93dde71","Content-Type":"application/json"},dataType:"json",body:i});case 8:console.log("Change status ok"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0),a.toast.DisplayError("L\u1ed7i x\u1ea3y ra");case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),a.toast=new y,a.set_login_true=a.set_login_true.bind(Object(b.a)(a)),a.Get_agent_data=a.Get_agent_data.bind(Object(b.a)(a)),a.componentDidMount=a.componentDidMount.bind(Object(b.a)(a)),a.state={data:[],data_total:{},is_logged_in:!0,user_name:"dashboard_user",password:"lw55LK482Ed8cd3XIOGWJ6",user_crm_login:"",role_user:""},a}return Object(c.a)(s,[{key:"someFunction",value:function(){var t=A.a.parse(this.props.location.search);console.log("run someFunction"),void 0!=t.teamname&&console.log(t.teamname)}}]),Object(c.a)(s,[{key:"componentDidMount",value:function(){this.someFunction(),this.Get_agent_data(),setInterval(this.Get_agent_data,5e3)}},{key:"set_login_true",value:function(t,e){this.setState({is_logged_in:!0,user_name:t,password:e}),this.Get_agent_data(),setInterval(this.Get_agent_data,5e3)}},{key:"Get_agent_data",value:function(){var t=Object(g.a)(v.a.mark((function t(){var e,a,s,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.is_logged_in){t.next=17;break}return e=A.a.parse(this.props.location.search),a="",null!=e&&(void 0!=e.nhomuser&&(a=a+"nhomuser="+e.nhomuser+"&"),void 0!=e.phongban&&(a=a+"phongban="+e.phongban+"&"),void 0!=e.in_individual&&(a=a+"in_individual="+e.in_individual+"&"),void 0!=e.in_role&&(a=a+"in_role="+e.in_role+"&",this.state.role_user=e.in_role),void 0!=e.user_name_crm&&(this.state.user_crm_login=e.user_name_crm)),console.log(a),t.next=7,fetch("/api/queue_data?"+a+"login_data="+encodeURIComponent(w(this.state.user_name,this.state.password)));case 7:if((s=t.sent).ok){t.next=12;break}console.log("HTTP error! status: ".concat(s.status)),t.next=17;break;case 12:return t.next=14,s.json();case 14:null==(n=t.sent).mysql_dashboard_user_kq.slg_user&&(n.mysql_dashboard_user_kq.slg_user=n.mysql_dashboard_user_kq.slg_user_Busy+n.mysql_dashboard_user_kq.slg_user_available+n.mysql_dashboard_user_kq.slg_user_Outbound+n.mysql_dashboard_user_kq.slg_user_not_Available+n.mysql_dashboard_user_kq.slg_user_Logout),this.setState({data:n.agent_data_list,data_total:n.mysql_dashboard_user_kq});case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.is_logged_in?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"title_div d-flex align-items-center justify-content-center w-100 p-1 font-weight-bold mb-2"},n.a.createElement("div",{className:"title_img_div mr-auto"},n.a.createElement("img",{src:a(116),className:"w-100",alt:"logo"})),n.a.createElement("div",{className:"title_text_div"},"AGENT MANAGEMENT"),n.a.createElement("div",{className:"title_align_div ml-auto"})),n.a.createElement("div",{className:"top_data row no-gutters mt-3"},n.a.createElement("div",{className:"q_card_q col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"top_data_card_title"},"Total Agent"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_user))),n.a.createElement("div",{className:"q_card_q col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_busy_status"},n.a.createElement("div",{className:"top_data_card_title"},"Agent ACD"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_user_Busy," (",this.state.data_total.slg_user_Busy_tyle," %)"))),n.a.createElement("div",{className:"q_card_q col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_do_not_disturb_status"},n.a.createElement("div",{className:"top_data_card_title"},"Agent S\u1eb3n S\xe0ng"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_user_available," (",this.state.data_total.slg_user_available_tyle," %)"))),n.a.createElement("div",{className:"q_card_q col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"top_data_card_title"},"Agent Outbound"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_user_Outbound," (",this.state.data_total.slg_user_Outbound_tyle," %)"))),n.a.createElement("div",{className:"q_card_q col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_available_status"},n.a.createElement("div",{className:"top_data_card_title"},"Agent Kh\xf4ng S\u1eb3n S\xe0ng"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_user_not_Available," (",this.state.data_total.slg_user_not_Available_tyle," %)"))),n.a.createElement("div",{className:"q_card_q col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_available_status"},n.a.createElement("div",{className:"top_data_card_title"},"Agent Logout"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_user_Logout," (",this.state.data_total.slg_user_Logout_tyle," %)")))),n.a.createElement("div",{className:"table_div"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",{className:"tr_head"},n.a.createElement("th",{className:"br-white"},"T\xean Collector"),n.a.createElement("th",{className:"br-white"},"S\u1ed1 M\xe1y L\u1ebb"),n.a.createElement("th",{className:"br-white"},"Nh\xf3m"),n.a.createElement("th",{className:"br-white"},"Call In"),n.a.createElement("th",{className:"br-white"},"Call Out"),n.a.createElement("th",{className:"br-white"},"Call Out Ans"),n.a.createElement("th",{className:"br-white"},"Call Out UnAns"),n.a.createElement("th",{className:"br-white"},"TalkTime In"),n.a.createElement("th",{className:"br-white"},"Avg.TalkTime In"),n.a.createElement("th",{className:"br-white"},"TalkTime Out"),n.a.createElement("th",{className:"br-white"},"Avg.TalkTime Out"),n.a.createElement("th",{className:"br-white"},"Outbound"),n.a.createElement("th",{className:"br-white"},"S\u1eb3n S\xe0ng"),n.a.createElement("th",{className:"br-white"},"Kh\xf4ng S\u1eb3n S\xe0ng"),n.a.createElement("th",{className:"br-white"},"Logout"),n.a.createElement("th",{className:"br-white"},"Status"),n.a.createElement("th",{className:"br-white"},"Status Last Time"),n.a.createElement("th",{className:"br-white"},"First Call"),n.a.createElement("th",{className:"br-white"},"Last Call"),n.a.createElement("th",{className:"br-white"},"Change Status"))),n.a.createElement("tbody",null,this.state.data.map((function(e){return n.a.createElement("tr",{key:e.c_so_ext},n.a.createElement("td",null,e.fullname),n.a.createElement("td",null,e.c_so_ext),n.a.createElement("td",null,e.c_tennhom),n.a.createElement("td",null,e.slg_inbound),n.a.createElement("td",null,e.slg_outbound),n.a.createElement("td",null,e.slg_outbound_ans),n.a.createElement("td",null,e.slg_outbound_un_ans),n.a.createElement("td",null,e.inbound_talk_view),n.a.createElement("td",null,e.avg_inbound_talk_view),n.a.createElement("td",null,e.outbound_talk_view),n.a.createElement("td",null,e.avg_outbound_talk_view),n.a.createElement("td",null,e.Outbound),n.a.createElement("td",null,e.Available),n.a.createElement("td",null,e.not_Available),n.a.createElement("td",null,e.Logout),n.a.createElement("td",null," ","Logout"===e.c_statusname?n.a.createElement("label",{style:{backgroundColor:"red"}}," ",e.c_statusname):e.c_statusname),n.a.createElement("td",null,e.last_time_status),n.a.createElement("td",null,e.time_first_call),n.a.createElement("td",null,e.time_last_call),n.a.createElement("td",null,t.state.user_crm_login&&t.state.role_user&&"User"!==t.state.role_user?n.a.createElement("select",{onChange:t.set_agent_status,value:"-1",ext:e.c_so_ext,userID:e.c_username_status,userName:e.fullname},S.map((function(t){return n.a.createElement("option",{value:t.select_value,key:t.select_value},t.name)}))):n.a.createElement(n.a.Fragment,null)))})))))):n.a.createElement(C,{set_login_true:this.set_login_true,toast:this.toast,login:this.login})}}]),s}(s.Component),T=a(48),j=a.n(T),M=a(71),z=a.n(M),L=function(t){Object(d.a)(s,t);var e=Object(m.a)(s);function s(t){var a;return Object(o.a)(this,s),(a=e.call(this,t)).update_chart=function(t){a.setState({chartOptions:{xAxis:{categories:t.map((function(t){return t.k_gio}))},plotOptions:{spline:{dataLabels:{enabled:!0}}},series:[{name:"Inbound",color:"#00B0F0",data:t.map((function(t){return t.slg_inbound}))},{name:"Outbound",color:"#39ED2B",data:t.map((function(t){return t.slg_outbound}))},{name:"No Answer",color:"#EBE72D",data:t.map((function(t){return t.slg_in_agent_noans}))},{name:"Missed Call",color:"#FC1B17",data:t.map((function(t){return t.slg_inbound_q_misscall}))}]}})},a.update_chart_cot=function(t){a.setState({chartOptions_cot:{xAxis:{categories:t.map((function(t){return t.c_destination_caller_id}))},plotOptions:{column:{dataLabels:{enabled:!0}}},series:[{name:"Inbound",color:"#00B0F0",data:t.map((function(t){return t.slg_inbound}))},{name:"Successed Call",color:"#39ED2B",data:t.map((function(t){return t.slg_ans}))},{name:"No Answer",color:"#EBE72D",data:t.map((function(t){return t.slg_in_agent_noans}))},{name:"Missed Call",color:"#FC1B17",data:t.map((function(t){return t.slg_inbound_q_misscall}))}]}})},a.toast=new y,a.set_login_true=a.set_login_true.bind(Object(b.a)(a)),a.Get_agent_data=a.Get_agent_data.bind(Object(b.a)(a)),a.componentDidMount=a.componentDidMount.bind(Object(b.a)(a)),a.update_chart=a.update_chart.bind(Object(b.a)(a)),a.update_chart_cot=a.update_chart_cot.bind(Object(b.a)(a)),a.state={data:[],data_total:{},is_logged_in:!0,user_name:"dashboard_user",password:"lw55LK482Ed8cd3XIOGWJ6",chartOptions:{chart:{type:"spline"},title:{text:null},yAxis:{title:{text:null},tickAmount:10}},chartOptions_cot:{chart:{type:"column"},title:{text:null},yAxis:{title:{text:null},tickAmount:10}}},a}return Object(c.a)(s,[{key:"someFunction",value:function(){var t=A.a.parse(this.props.location.search);console.log("run someFunction"),void 0!=t.teamname&&console.log(t.teamname)}}]),Object(c.a)(s,[{key:"componentDidMount",value:function(){this.someFunction(),this.Get_agent_data(),setInterval(this.Get_agent_data,5e3)}},{key:"set_login_true",value:function(t,e){this.setState({is_logged_in:!0,user_name:t,password:e}),this.Get_agent_data(),setInterval(this.Get_agent_data,5e3)}},{key:"Sort_agent_data_by_calls_today",value:function(t){return t&&t.length>1?t.sort((function(t,e){return t.calls_today<e.calls_today?-1:t.calls_today>e.calls_today?1:0})):"undefined"===typeof t||null===t?[]:t}},{key:"Get_agent_data",value:function(){var t=Object(g.a)(v.a.mark((function t(){var e,a,s,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.is_logged_in){t.next=18;break}return e=A.a.parse(this.props.location.search),a="",null!=e&&(void 0!=e.dsQueue&&(a=a+"dsQueue="+e.dsQueue+"&"),void 0!=e.in_individual&&(a=a+"in_individual="+e.in_individual+"&"),void 0!=e.in_role&&(a=a+"in_role="+e.in_role+"&")),console.log(a),t.next=7,fetch("/api/queue_data?"+a+"login_data="+encodeURIComponent(w(this.state.user_name,this.state.password)));case 7:if((s=t.sent).ok){t.next=12;break}console.log("HTTP error! status: ".concat(s.status)),t.next=18;break;case 12:return t.next=14,s.json();case 14:n=t.sent,this.setState({data:n.mysql_dashboard_q_detail,data_total:n.mysql_dashboard_q_total}),this.update_chart(n.mysql_dashboard_q_bieudo),this.update_chart_cot(n.mysq_dashboard_q_bieudo_cot);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.is_logged_in?n.a.createElement("div",null,n.a.createElement("div",{className:"title_div d-flex align-items-center justify-content-center w-100 p-1 font-weight-bold mb-2"},n.a.createElement("div",{className:"title_img_div mr-auto"},n.a.createElement("img",{src:a(116),className:"w-100",alt:"logo"})),n.a.createElement("div",{className:"title_text_div"},"QUEUE MANAGEMENT"),n.a.createElement("div",{className:"title_align_div ml-auto"})),n.a.createElement("div",{className:"top_data row no-gutters mt-3"},n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon  zmdi-phone-in-talk"})),n.a.createElement("div",{className:"top_data_card_title"},"Total Calls in Queue"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_inq))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon  zmdi-trending-up"})),n.a.createElement("div",{className:"top_data_card_title"},"Ans Calls"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_inq_ans))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_abandoned_calls"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon  zmdi-phone-missed"})),n.a.createElement("div",{className:"top_data_card_title"},"Abandoned Calls"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_inq_abn))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_abandoned_calls"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon  zmdi-phone-missed"})),n.a.createElement("div",{className:"top_data_card_title"},"% Abandoned Calls"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.tyle_abn," %"))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon  zmdi-trending-up"})),n.a.createElement("div",{className:"top_data_card_title"},"% Service Level"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.tyle_ans_20," %"))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon zmdi-phone-ring"})),n.a.createElement("div",{className:"top_data_card_title"},"Waiting Calls"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.slg_call_waiting)))),n.a.createElement("div",{className:"top_data row no-gutters mb-3"},n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon zmdi-accounts-alt"})),n.a.createElement("div",{className:"top_data_card_title"},"Total Agent"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.total_agent))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_busy_status"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon zmdi-accounts-alt"})),n.a.createElement("div",{className:"top_data_card_title"},"ACD Status"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.total_agent_ACD))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card top_data_card_do_not_disturb_status"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon zmdi-accounts-alt"})),n.a.createElement("div",{className:"top_data_card_title"},"Available Status"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.total_agent_Available))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon zmdi-accounts-alt"})),n.a.createElement("div",{className:"top_data_card_title"},"Not Available Status"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.total_agent_AUX))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-lg-1 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon zmdi-time"})),n.a.createElement("div",{className:"top_data_card_title"},"Avg. Waiting Time"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.avg_inq_total_waiting_view))),n.a.createElement("div",{className:"q_card_q2 col-md-6 pr-md-1 pr-lg-1 pr-sm-0 pb-1"},n.a.createElement("div",{className:"top_data_card"},n.a.createElement("div",{className:"text-right"},n.a.createElement("i",{className:"zmdi top_img_icon zmdi-time"})),n.a.createElement("div",{className:"top_data_card_title"},"Avg. Calls In Time"),n.a.createElement("div",{className:"top_data_card_value"},this.state.data_total.avg_inq_total_talking_view)))),n.a.createElement("div",{id:"middle_data",className:"row no-gutters mb-2",style:{maxWidth:"100vw",overflowX:"auto"}},n.a.createElement("div",{className:"col-lg-12 pl-lg-1 mb-1"},n.a.createElement("div",{id:"chart",className:"w-100"},n.a.createElement(z.a,{highcharts:j.a,options:this.state.chartOptions})))),n.a.createElement("div",{id:"middle_data",className:"row no-gutters mb-2",style:{maxWidth:"100vw",overflowX:"auto"}},n.a.createElement("div",{className:"col-lg-12 pl-lg-1 mb-1"},n.a.createElement("div",{id:"chart_cot",className:"w-100"},n.a.createElement(z.a,{highcharts:j.a,options:this.state.chartOptions_cot})))),n.a.createElement("div",{className:"bottom_data"},n.a.createElement("table",{className:"agent_data_table w-100 text-center"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"bb-white"},n.a.createElement("th",{colSpan:"15",className:"fw-b"},"Queue Detail")),n.a.createElement("tr",{className:"bb-white"},n.a.createElement("th",{className:"bt-white br-white"},"Queue name"),n.a.createElement("th",{className:"bt-white br-white"},"Inbound Calls"),n.a.createElement("th",{className:"bt-white br-white"},"Answered Calls"),n.a.createElement("th",{className:"bt-white br-white"},"Abandoned Calls"),n.a.createElement("th",{className:"bt-white br-white"},"Waiting Calls"),n.a.createElement("th",{className:"bt-white br-white"},"% Abandoned"),n.a.createElement("th",{className:"bt-white br-white"},"% Service Level (20s)"),n.a.createElement("th",{className:"bt-white br-white"},"Avg. Waiting Time"),n.a.createElement("th",{className:"bt-white br-white"},"Avg. Call Ans Time"),n.a.createElement("th",{className:"bt-white br-white"},"Total Agent"),n.a.createElement("th",{className:"bt-white br-white"},"Agent ACD"),n.a.createElement("th",{className:"bt-white br-white"},"Agent not Available"),n.a.createElement("th",{className:"bt-white br-white"},"Agent Available"))),n.a.createElement("tbody",{className:"fs-10"},this.state.data.map((function(t){return n.a.createElement("tr",{key:t.c_destination_caller_id},n.a.createElement("td",{className:"bt-white br-white"},t.c_destination_caller_id," ",t.c_destination_display_name),n.a.createElement("td",{className:"bt-white br-white"},t.slg_inq),n.a.createElement("td",{className:"bt-white br-white"},t.slg_inq_ans),n.a.createElement("td",{className:"bt-white br-white"},t.slg_inq_abn),n.a.createElement("td",{className:"bt-white br-white"},t.slg_call_waiting),n.a.createElement("td",{className:"bt-white br-white"},t.tyle_abn," %"),n.a.createElement("td",{className:"bt-white br-white"},t.slg_inq_ans_20," %"),n.a.createElement("td",{className:"bt-white br-white"},t.avg_inq_total_waiting_view),n.a.createElement("td",{className:"bt-white br-white"},t.inq_total_talking_view),n.a.createElement("td",{className:"bt-white br-white"},t.total_agent),n.a.createElement("td",{className:"bt-white br-white"},t.total_agent_ACD),n.a.createElement("td",{className:"bt-white br-white"},t.total_agent_AUX),n.a.createElement("td",{className:"bt-white br-white"},t.total_agent_Available))})))))):n.a.createElement(C,{set_login_true:this.set_login_true,toast:this.toast,login:this.login})}}]),s}(s.Component),I=(a(236),function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement(u,null,n.a.createElement(_.a,{exact:!0,path:"/",component:h}),n.a.createElement(_.a,{path:"/agent",component:O}),n.a.createElement(_.a,{path:"/queue",component:L}))}}]),a}(s.Component));I.displayName=I.name;var W=document.getElementsByTagName("base")[0].getAttribute("href"),G=document.getElementById("root");i.a.render(n.a.createElement(r.a,{basename:W},n.a.createElement(I,null)),G)},74:function(t,e,a){},75:function(t,e,a){}},[[121,1,2]]]);